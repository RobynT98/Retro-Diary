<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Retro Diary</title>

  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#2b1a14" />

  <!-- Bas-typsnitt (UI). Redakt√∂rens typsnitt v√§ljs dynamiskt via fonts.js -->
  <link href="https://fonts.googleapis.com/css2?family=Special+Elite&family=IM+Fell+English&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css?v=bookX" />
</head>
<body class="locked">

  <!-- Menyknapp -->
  <button id="menuToggle" aria-label="Meny">‚ò∞</button>

  <!-- Boklayout -->
  <div class="book">
    <!-- V√§nstersida: Inneh√•ll -->
    <section class="page" id="leftPage">
      <h2>Inneh√•ll</h2>
      <ul id="entries"></ul>
    </section>

    <!-- H√∂gersida: Editor -->
    <section class="page" id="rightPage">
      <!-- Verktygsrad -->
      <div id="toolbar" class="toolbar">
        <!-- Stil -->
        <button class="btn" id="boldBtn" title="Fet (Ctrl+B)"><span>B</span></button>
        <button class="btn" id="italicBtn" title="Kursiv (Ctrl+I)"><span>I</span></button>
        <button class="btn" id="underlineBtn" title="Understruken (Ctrl+U)"><span>U</span></button>
        <button class="btn" id="strikeBtn" title="√ñverstrykning"><span>S</span></button>

        <span class="divider"></span>

        <!-- Block/rubrik -->
        <label class="selectwrap" title="Rubrikniv√•">
          <select id="blockSelect">
            <option value="p">Br√∂dtext</option>
            <option value="h1">Rubrik 1</option>
            <option value="h2">Rubrik 2</option>
            <option value="h3">Rubrik 3</option>
            <option value="blockquote">Citat</option>
            <option value="pre">Kod</option>
          </select>
        </label>

        <span class="divider"></span>

        <!-- Listor -->
        <button class="btn" id="ulBtn" title="Punktlista">‚Ä¢ List</button>
        <button class="btn" id="olBtn" title="Numrerad lista">1. List</button>

        <span class="divider"></span>

        <!-- Justering -->
        <button class="btn" id="leftBtn"   title="V√§nsterjustera">‚ü∏</button>
        <button class="btn" id="centerBtn" title="Centrera">‚ü∑</button>
        <button class="btn" id="rightBtn"  title="H√∂gerjustera">‚üπ</button>
        <button class="btn" id="justifyBtn" title="Justera">‚âã</button>

        <span class="divider"></span>

        <!-- F√§rger -->
        <label class="swatch" title="Textf√§rg"><input id="colorBtn" type="color"/></label>
        <label class="swatch" title="Markering"><input id="hiliteBtn" type="color" value="#fff2a8"/></label>

        <span class="divider"></span>

        <!-- L√§nk, st√§d & √•ngra/g√∂r om -->
        <button class="btn" id="linkBtn"  title="Infoga l√§nk">üîó</button>
        <button class="btn" id="clearBtn" title="Ta bort formatering">‚ü≤</button>
        <button class="btn" id="undoBtn"  title="√Öngra (Ctrl+Z)">‚Ü∂</button>
        <button class="btn" id="redoBtn"  title="G√∂r om (Ctrl+Y)">‚Ü∑</button>

        <span class="divider"></span>

        <!-- Font (fr√•n fonts.js) -->
        <label class="selectwrap" title="Typsnitt (endast editor)">
          <select id="fontSelect"></select>
        </label>
      </div>

      <div id="dateLine"></div>
      <div id="editor" contenteditable="true" spellcheck="true"></div>

      <div id="actions">
        <button id="newBtn">Ny sida</button>
        <button id="saveBtn">Spara</button>
        <button id="deleteBtn" class="danger">Radera</button>
        <button id="lockBtn">L√•s</button>
      </div>
    </section>
  </div>

  <!-- Sidomeny -->
  <aside id="menu" aria-hidden="true">
    <h2>Meny</h2>

    <button id="exportBtn">Exportera (.json)</button>
    <input id="importInput" type="file" accept="application/json" hidden>
    <button id="importBtn">Importera (.json)</button>

    <button id="wipeBtn" class="danger">Rensa ALL lokal data</button>
  </aside>

  <!-- L√•ssk√§rm -->
  <div id="lockscreen" aria-hidden="false">
    <div class="card">
      <h2>üîí Retro Diary</h2>
      <input id="passInput" type="password" placeholder="L√∂senord">
      <div class="row">
        <button id="setPassBtn">S√§tt nytt l√∂sen</button>
        <button id="unlockBtn">L√•s upp</button>
      </div>
      <button id="wipeLocalOnLock" class="danger">Rensa ALL lokal data</button>
      <div id="status" aria-live="polite"></div>
    </div>
  </div>

  <!-- Force update -->
  <button id="forceUpdateBtn" title="Rensa cache och ladda om">‚ü≥ Uppdatera app</button>

  <script src="fonts.js?v=bookX"></script>
  <script src="app.js?v=bookX"></script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js?v=bookX').catch(()=>{});
    }
  </script>
</body>
          </html>
