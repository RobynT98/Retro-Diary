<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Retro Diary (light)</title>

  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#121214" />
  <link rel="icon" href="icon-192.png" sizes="192x192" />
  <link rel="apple-touch-icon" href="icon-192.png" />

  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="frame">
    <div class="titlebar">
      <div class="brand">
        <div class="badge"></div>
        <div>Retro Diary</div>
      </div>

      <div class="actions">
        <button id="newEntryBtn">Ny sida</button>

        <div class="menu" id="menuWrap">
          <button id="menuBtn" class="ghost">‚ãÆ</button>
          <div id="menuDrop" class="dropdown" hidden>
            <button id="exportBtn">Exportera (krypterad .json)</button>
            <label class="filebtn">
              Importera (krypterad .json)
              <input id="importFile" type="file" accept="application/json" hidden>
            </label>
            <hr>
            <button id="wipeLocalBtn" class="danger">Rensa ALL lokal data</button>
          </div>
        </div>

        <button id="lockBtn" class="ghost">L√•s</button>
      </div>
    </div>

    <div class="wrap">
      <aside class="sidebar">
        <div class="entry-list" id="list"></div>
      </aside>

      <main class="content">
        <div class="date-line" id="dateLine"></div>

        <div class="rt-toolbar" role="toolbar" aria-label="Textformat">
          <div class="btn-group">
            <button data-cmd="bold">B</button>
            <button data-cmd="italic"><i>I</i></button>
            <button data-cmd="underline"><u>U</u></button>
            <button data-cmd="strikeThrough">S</button>
          </div>
          <div class="btn-group">
            <button data-block="h1">H1</button>
            <button data-block="h2">H2</button>
            <button data-block="p">¬∂</button>
          </div>
          <div class="btn-group">
            <button data-cmd="insertUnorderedList">‚Ä¢ List</button>
            <button data-cmd="insertOrderedList">1. List</button>
            <button data-cmd="formatBlock" data-value="blockquote">‚ùù ‚ùû</button>
          </div>
          <div class="btn-group">
            <input type="color" id="foreColor" title="Textf√§rg">
            <button id="applyForeColor">Textf√§rg</button>
            <input type="color" id="hiliteColor" title="Markering">
            <button id="applyHiliteColor">Markera</button>
          </div>
          <div class="btn-group">
            <button id="insertLinkBtn">L√§nk</button>
            <button id="clearFormatBtn">Rensa</button>
          </div>
        </div>

        <div id="editor" class="editor" contenteditable="true" spellcheck="true"
             data-placeholder="Skriv fritt. Allt krypteras lokalt med ditt l√∂sen."></div>

        <div class="toolbar">
          <button id="saveBtn">Spara</button>
          <button id="deleteBtn" class="danger">Radera</button>
        </div>
        <div class="stamp" id="stamp"></div>
      </main>
            </div>
            <!-- L√•ssk√§rm (endast l√∂senord) -->
    <div class="lockscreen" id="lockscreen">
      <div class="lockcard">
        <h2>üîí L√•s upp dagboken</h2>
        <p class="hint">Dagboken krypteras lokalt med detta l√∂senord.</p>

        <fieldset>
          <legend>L√∂senord</legend>
          <div class="field">
            <input id="pass" type="password" autocomplete="current-password" placeholder="Dagbokens l√∂senord">
          </div>
          <div class="field">
            <button id="unlockBtn">L√•s upp</button>
          </div>
          <div class="status" id="status"></div>
          <div class="tiny" style="opacity:.8">Gl√∂mt l√∂sen? Du kan alltid rensa allt lokalt i menyn.</div>
        </fieldset>
      </div>
    </div>

  </div> <!-- /frame -->

  <script src="app.js?v=lite1" defer></script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => navigator.serviceWorker.register('./sw.js'));
    }
  </script>
</body>
</html>
