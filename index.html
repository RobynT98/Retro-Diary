<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Retro Diary (lite)</title>
  <link rel="stylesheet" href="styles.css?v=5">
</head>
<body class="locked">
  <div id="frame">

    <!-- Titlebar -->
    <div class="titlebar">
      <div class="logo">Retro Diary</div>
      <div class="actions">
        <button id="newBtn" class="big">Ny sida</button>
        <button id="lockBtn" class="big">LÃ¥s</button>
        <button id="menuBtn">â˜°</button>
        <div id="menuDrop" hidden>
          <button id="exportBtn">Exportera</button>
          <button id="importBtn">Importera</button>
          <button id="wipeLocal">Rensa allt lokalt</button>
        </div>
      </div>
    </div>

    <!-- Editor -->
    <div id="editorWrap">
      <div id="toolbar">
        <button data-cmd="bold">B</button>
        <button data-cmd="italic">I</button>
        <button data-cmd="underline">U</button>
        <button data-cmd="strikeThrough">S</button>
        <button data-cmd="formatBlock:h1">H1</button>
        <button data-cmd="formatBlock:h2">H2</button>
        <button data-cmd="insertUnorderedList">â€¢ List</button>
        <button data-cmd="insertOrderedList">1. List</button>
      </div>
      <div id="editor" contenteditable="true"></div>
      <div class="entry-actions">
        <button id="saveBtn" class="big">Spara</button>
        <button id="deleteBtn" class="big danger">Radera</button>
      </div>
      <div id="entries"></div>
    </div>

    <!-- Lock Screen -->
    <div id="lockscreen">
      <div class="lockbox">
        <h2>ðŸ”’ LÃ¥s upp dagboken</h2>
        <p>Dagboken krypteras lokalt med detta lÃ¶senord.</p>
        <input id="pass" type="password" placeholder="LÃ¶senord">
        <button id="unlockBtn" class="big">LÃ¥s upp</button>
        <div id="status" class="status"></div>

        <!-- Extra reset/wipe on lock -->
        <div class="tiny" style="margin-top:.5rem">
          GlÃ¶mt lÃ¶sen? <br>
          <button id="wipeLocalOnLock" class="danger">Rensa ALL lokal data</button>
        </div>
      </div>
    </div>

  </div>

  <script src="app.js?v=5" defer></script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js?v=5');
    }
  </script>
</body>
</html>
