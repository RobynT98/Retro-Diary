/* styles.css */
@import url("base.css");
@import url("layout.css");
@import url("toolbar.css");
@import url("editor.css");
@import url("lock.css");
@import url("gallery.css");
/* Sista raden – låt denna dominera */
.info-page {
  max-width: 700px;
  margin: 3rem auto;
  padding: 2rem;
  background: var(--page-bg, #fdfcf7);
  border-radius: 8px;
  box-shadow: 0 0 10px rgba(0,0,0,0.15);
  line-height: 1.6;
}
.info-page h1 {
  margin-bottom: 1rem;
}
/* ===== CLICK-SAFE PATCH (lägg allra sist) ===== */

/* 1) Låsskärm: synlig baseline, styrs av aria-hidden */
#lockscreen{
  position: fixed;
  inset: 0;
  display: flex;              /* synlig som default */
  align-items: center;
  justify-content: center;
  z-index: 9999;
  background: rgba(0,0,0,.75);
  pointer-events: auto;
}
#lockscreen[aria-hidden="true"]{ display: none !important; }

/* 2) När låst: göm boken */
body.locked .book{ display: none !important; }

/* 3) Meny-knapp (FAB) är alltid klickbar och ovanför allt */
#menuToggle{
  position: fixed;
  left: calc(env(safe-area-inset-left, 0px) + 12px);
  top:  calc(env(safe-area-inset-top,  0px) + 12px);
  z-index: 1200;
  cursor: pointer;
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}

/* 4) Sidomeny: tar inte klick när stängd, tar klick när öppen */
#menu{
  position: fixed; top:0; right:0; bottom:0;
  width:320px; max-width:94vw;
  background:#111; color:#fff;
  transform: translateX(100%);
  transition: transform .25s ease;
  z-index: 1100;
  pointer-events: none;           /* stängd: inga klick */
}
#menu.open{
  transform: translateX(0);
  pointer-events: auto;           /* öppen: klickbar */
}
/* om någon fil har aria-hidden som gömmer menyn, synka med .open */
#menu[aria-hidden="false"]{ pointer-events: auto; }

/* 5) Toolbar ovanför editor-innehåll men under menyn */
#toolbar{ position: relative; z-index: 1050; }

/* 6) Gör alla kontroller klickbara (ifall någon fil satt pointer-events:none) */
button, [role="button"], select, input, textarea, label {
  pointer-events: auto !important;
}

/* 7) Inga osynliga pseudo-overlays ska stjäla klick */
.page::after { pointer-events: none !important; }

/* 8) Undvik att något fullskärms-element blockerar allt */
body > * { /* bara försiktigt: om något råkat ha absmask */
  /* lämna tomt – denna rad är här för att markera prioritet i devtools */
}

/* 9) Minnesläge & teman ska inte påverka klickbarhet */
body.memory-mode, body.theme-dark, body.theme-light { pointer-events: auto; }

/* 10) iOS/Android klick precision */
.btn, button { -webkit-tap-highlight-color: transparent; }
